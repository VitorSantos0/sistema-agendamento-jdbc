CREATE DATABASE sistema_agendamento
    WITH
    OWNER = postgres
    ENCODING = 'UTF8'
    LC_COLLATE = 'Portuguese_Brazil.1252'
    LC_CTYPE = 'Portuguese_Brazil.1252'
    LOCALE_PROVIDER = 'libc'
    TABLESPACE = pg_default
    CONNECTION LIMIT = -1
    IS_TEMPLATE = False;

CREATE TABLE IF NOT EXISTS servico
(
    id SERIAL primary key unique,
    descricao varchar(255) NOT NULL,
    valor numeric(9,2) NOT NULL,
    categoria varchar(255) NOT NULL,
    status integer NOT NULL
);


CREATE TABLE IF NOT EXISTS agendamento
(
    id SERIAL primary key unique,
    servico_id integer NOT NULL,
    nome_cliente varchar(255) NOT NULL,
    telefone_cliente varchar(20),
    nome_profissional varchar(255),
    data_servico date NOT NULL,
    hora_servico time NOT NULL,
    data_hora_lancamento timestamp DEFAULT CURRENT_TIMESTAMP,
    data_hora_cancelamento timestamp,
    CONSTRAINT fk_servico FOREIGN KEY (servico_id)
        REFERENCES public.servico (id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE CASCADE
);


INSERT INTO servico (descricao, valor, categoria, status) 
VALUES ('manicure', 40, 'unha', 1),
('pedicure', 30, 'unha',1),
('corte feminino',40,'cabelo',1),
('corte masculino',25,'cabelo',1),
('corte infantil',32,'cabelo',1),
('barba',15,'rosto',1),
('depilação a laser',130,'depilação',0),
('depilação de cera',50,'depilação',0),
('escovação e prancha',80,'cabelo',1),
('luzes feminino',120,'cabelo',1),
('luzes masculino',30,'cabelo',1),
('sobrancelha',25,'rosto',1),
('limpeza facial',100,'rosto',1);
